#!/usr/bin/env sh
# Auto-regenerate README.md when i18n/en/README.md changes
# This ensures all commits are signed by the developer, not by GitHub Actions

if git diff --cached --name-only | grep -Fxq "extensions/git-id-switcher/docs/i18n/en/README.md"; then
  echo "ğŸ“ Regenerating README.md from i18n/en source..."
  (
    cd extensions/git-id-switcher || exit 1
    npm run generate:readme
    git add README.md
  )
  echo "âœ… README.md regenerated and staged"
fi
